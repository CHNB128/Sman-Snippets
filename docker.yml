---
attach:
  do: exec
  desc: attach without sig-proxy
  command: docker attach --sig-proxy=false <<container>>
rm:
  do: exec
  desc: stop and remove single or all containers
  command: docker stop <<container($(docker ps -a -q))>>; docker rm <<container>>
inspect:
  do: exec
  desc: inspect ip/ports
  command: >-
    docker inspect --format "{{ .Name }} # {{ .NetworkSettings.IPAddress }}
    # {{ .NetworkSettings.Ports }}" $(docker ps -q) | tr -s '#' '\t' | column -t
stop:
  do: exec
  desc: stop single or all containers
  command: docker stop <<container($(docker ps -a -q))>>;
bash:
  do: exec
  desc: run bash in container
  command: docker exec -it <<container>> bash
mysql:init:
  do: exec
  desc: Init mysql container
  command: >
    docker run
    -d
    --name <<name>>
    -e MYSQL_ROOT_PASSWORD=<<password>>
    mysql
mysql:client:
  do: exec
  desc: Connect to mysql in container
  command: >
    docker run
    -it
    --link <<container>>:mysql
    --rm
    mysql
    sh -c '
      exec mysql
      -h <<host>>
      -P <<port>>
      -uroot -p <<password>>'
wordpress:init:
  do: exec
  desc: Init wordpress container
  command: >
    docker run
    -d
    -p <<port>>:80
    --name <<name>>
    --link <<mysql>>:mysql
    wordpress
top:
  do: exec
  desc: Top for containers
  command: >
    docker run
    --rm
    -ti
    --name ctop
    -v /var/run/docker.sock:/var/run/docker.sock
    quay.io/vektorlab/ctop
tor:
  do: exec
  desc: Init tor container
  command: >
    docker run
    -it
    --name proxy
    -p 8118:8118
    -p 9050:9050
    -d
    dperson/torproxy
android-studio:init:
  do: exec
  desc: Init Android studio container
  command: >
    docker run
    -ti
    --name android-studio
    --privileged
    -e DISPLAY=$DISPLAY
    -v <<folde(~/src)>>:/data
    -v /dev/bus/usb:/dev/bus/usb
    -v /tmp/.X11-unix:/tmp/.X11-unix
    kelvinlawson/android-studio
steam:init:
  do: exec
  desc: Init Steam container
  command: >
    docker run
    -d
    --name steam
    -e DISPLAY=$DISPLAY
    -v /tmp/.X11-unix:/tmp/.X11-unix
    tianon/steam
